# レコメンデーションアルゴリズムを使用して、"動的に" オススメ映画を表示するWebページを作成せよ。

本プロジェクトは、MovieLens 100kデータセットを利用し、ユーザーの好みに合わせて動的に映画を推薦するWebアプリケーションです。

## 採用したレコメンデーションアルゴリズムと理由

### 1. 映画選択時のアルゴリズム
**アルゴリズム:** 協調フィルタリング（ユーザーベースの簡易版）
- **理由:** ユーザーが選択した特定の映画に対し、「その映画を高く評価（4点以上）した他のユーザー」を特定し、その似た好みの人々が他に高く評価している映画を抽出する手法を採用しました。これにより、ユーザーの現在の関心に基づいた動的なパーソナライズが可能になるためです。

### 2. 未選択時のアルゴリズム
**アルゴリズム:** 人気度ベース（統計的集計）
- **理由:** ユーザーの好みが不明な初期状態では、全データの中から「評価件数が一定数（50件）以上」かつ「平均評価点が高い」映画を表示するのが最も信頼性が高く、万人受けする「名作」を提示できるためです。

---

## ボタン押下から画面表示までのロジック内容

システム全体図に基づき、以下のプロセスで処理が行われます。

1. **情報の取得（フロントエンド）:**
   ユーザーが3つのセレクトボックスから映画を選択し、「オススメ映画を表示」ボタンを押下します。この際、JavaScriptが選択された映画の `movieId` を取得します。
   
2. **データの送信:**
   取得した3つの `movieId` をJSON形式のデータにまとめ、バックエンド（Flask）の `/recommend` エンドポイントへPOSTリクエストとして送信します。

3. **推薦ロジックの実行（バックエンド）:**
   - 送信された3つの情報を「嗜好の核」として扱います。
   - `ratings_100k.csv` をスキャンし、これら3つの映画のいずれかに4点以上のスコアをつけた「似た好みのユーザー」を抽出します。
   - 抽出されたユーザー群が、選択された3作品以外に高く評価している映画をリストアップし、平均評価順にソートして上位5件を決定します。

4. **画面遷移と表示:**
   - サーバーから返ってきた5つの映画タイトルを受け取ると、JavaScriptが現在の入力フォーム（`input-area`）を非表示にします。
   - 代わりに結果表示エリア（`result-area`）を表示し、映画タイトルに1〜5の番号を付与して画面に描画します。これにより、ページリロードなしでスムーズな画面遷移を表現しています。

---

## 起動手順およびインストール作業

### 必要なインストール作業
ターミナルまたはコマンドプロンプトで以下のコマンドを実行し、必要なライブラリをインストールしてください。

```bash
pip install flask pandas
```

## 起動手順
1.プロジェクトフォルダへ移動します。

```bash
cd C:\AI_Ouyou\AI_reco
```

2.以下のコマンドを入力してサーバーを起動します。

```bash
python recommendation.py
```
3.サーバー起動後、ブラウザで以下のURLにアクセスしてください。
http://127.0.0.1:5000
